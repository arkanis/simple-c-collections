GCC_ARGS = -Werror -Wall -Wextra
GCC_DEBUG_ARGS = -g
GCC_OPTIMIZED_ARGS = -O3

# Use a simply expanded variable to avoid endless recursion, see
# http://www.gnu.org/savannah-checkouts/gnu/make/manual/html_node/Flavors.html
GCC_ARGS := $(GCC_ARGS) $(GCC_DEBUG_ARGS)
#GCC_ARGS := $(GCC_ARGS) $(GCC_OPTIMIZED_ARGS)

GCC_FLAGS = -std=c99 -pedantic $(GCC_ARGS)
GCC_GNU_FLAGS = -std=gnu99 $(GCC_ARGS)

# clean target for all directories, ensures that the ignore files
# are properly maintained.
clean:
	rm -fr `tr '\n' ' ' < .gitignore`